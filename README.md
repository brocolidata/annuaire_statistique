# HCP's Statistical Yearbook (*Annuaire Statistique*)

[![Open in Codespace](https://img.shields.io/static/v1?label=Codespace&message=Open&color=blue&logo=github)](https://github.com/codespaces/new?template_repository=brocolidata/annuaire_statistique)

Curated moroccan data from [HCP](https://www.hcp.ma)'s statistical yearbook (*Annuaire statistique*)

**Source** : [hcp.ma](https://www.hcp.ma/downloads/?tag=Annuaires+statistiques+du+Maroc+%28Format+Excel%29)

**See our [(dbt) Data Catalog](https://brocolidata.github.io/annuaire_statistique/)** and [Exploration tool](https://share.stlite.net/#!ChBzdHJlYW1saXRfYXBwLnB5EtsQChBzdHJlYW1saXRfYXBwLnB5EsYQCsMQaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgcHlvZGlkZQpmcm9tIGlvIGltcG9ydCBCeXRlc0lPCmltcG9ydCBzdHJlYW1saXQgYXMgc3QKaW1wb3J0IGNhdGFsb2cKaW1wb3J0IGpzb24KCnN0LnRpdGxlKCdFeHBsb3JhdGlvbiBkZSBsXCdBbm51YWlyZSBTdGF0aXN0aXF1ZSBkdSBNYXJvYycpCgoKc3QuaGVhZGVyKCdJbnRybycpCndpdGggc3QuZXhwYW5kZXIoIkTDqXZlbG9wcGVyL1LDqWR1aXJlIGwnaW50cm8iKToKICAgIHN0Lm1hcmtkb3duKAogICAgICAgICIiIgogICAgICAgIExlcyBkb25uw6llcyBwcm92aWVubmVudCBkZSBsJyoqQW5udWFpcmUgU3RhdGlzdGlxdWUgZHUgTWFyb2MqKiBwdWJsacOpZXMgdG91cyBsZXMgYW5zIHN1ciBsZSBzaXRlIGR1IFtIQ1BdKGh0dHBzOi8vd3d3LmhjcC5tYSkuCgogICAgICAgIExlcyBkb25uw6llcyBkZSB0b3V0ZXMgbGVzIGFubsOpZXMgZGlzcG9uaWJsZXMgKGVuIGZvcm1hdCB0YWJ1bGFpcmUpIHNvbnQgZW5zdWl0ZSBjb25zb2xpZMOpZXMgZXQgY2F0YWxvZ3XDqWVzIHBhciBCcm9jb2xpIERhdGEgcG91ciBmYWNpbGl0ZXIgbCdhbmFseXNlLgoKICAgICAgICAqKkxpZW4gdXRpbGVzKioKICAgICAgICAtIFtDb250YWN0ZXogQnJvY29saSBEYXRhIHN1ciBMaW5rZWRJbl0oaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2NvbXBhbnkvYnJvY29saS1kYXRhLykKICAgICAgICAtIFtDYXRhbG9ndWUgZGUgRG9ubsOpZXMgKGfDqW7DqXLDqSBwYXIgQnJvY29saSBEYXRhKV0oaHR0cHM6Ly9icm9jb2xpZGF0YS5naXRodWIuaW8vYW5udWFpcmVfc3RhdGlzdGlxdWUvKQogICAgICAgIC0gW1LDqXBlcnRvaXJlIEdpdEh1YiBkdSBwcm9qZXRdKGh0dHBzOi8vZ2l0aHViLmNvbS9icm9jb2xpZGF0YS9hbm51YWlyZV9zdGF0aXN0aXF1ZSkgCiAgICAgICAgLSBbQXJjaGl2ZXMgUkFSIHB1Ymxpw6llcyBwYXIgbGUgSENQXShodHRwczovL3d3dy5oY3AubWEvZG93bmxvYWRzLz90YWc9QW5udWFpcmVzK3N0YXRpc3RpcXVlcytkdStNYXJvYyslMjhGb3JtYXQrRXhjZWwlMjkpIAogICAgICAgICIiIgogICAgKQoKc3QuaGVhZGVyKCdBY2PDqHMgYXV4IERvbm7DqWVzJykKCmZpbGVzX2RjID0gY2F0YWxvZy5nZXRfZmlsZXNfZGljdCgpCnNlbGVjdGVkX2NhdGVnb3J5ID0gc3Quc2VsZWN0Ym94KAogICAgIlPDqWxlY3Rpb25uZXIgdW5lIGNhdMOpZ29yaWUiLAogICAgY2F0YWxvZy5nZXRfY2F0ZWdvcmllcyhmaWxlc19kYyksCiAgICBmb3JtYXRfZnVuYz1jYXRhbG9nLnByb2Nlc3NfbGFiZWxzCikKCmlmIHNlbGVjdGVkX2NhdGVnb3J5OgogICAgY2F0ZWdvcnlfbHMgPSBjYXRhbG9nLmdldF9maWxlc19mb3JfY2F0ZWdvcnkoZmlsZXNfZGMsIHNlbGVjdGVkX2NhdGVnb3J5KQogICAgbmFtZV91cmxfbWFwcGluZyA9IGNhdGFsb2cubWFwX2xhYmVsX3RvX3VybChjYXRlZ29yeV9scykKICAgIHNlbGVjdGVkX2luZGljYXRvciA9IHN0LnNlbGVjdGJveCgKICAgICAgICAiU8OpbGVjdGlvbm5lciB1biBpbmRpY2F0ZXVyIiwKICAgICAgICBjYXRhbG9nLmdldF9sYWJlbHNfZnJvbV9jYXRlZ29yeShjYXRlZ29yeV9scykKICAgICkKICAgIGluZGljYXRvcl9kYyA9IGNhdGFsb2cuZ2V0X2luZGljYXRvcl9kY19ieV9sYWJlbChjYXRlZ29yeV9scywgc2VsZWN0ZWRfaW5kaWNhdG9yKQogICAgaW5kaWNhdG9yID0gY2F0YWxvZy5JbmRpY2F0b3IoaW5kaWNhdG9yX2RjKQoKaWYgc3QuYnV0dG9uKCdDaGFyZ2VyIGxlcyBkb25uw6llcycpOgogICAgcmVzcG9uc2UgPSBhd2FpdCBweW9kaWRlLmh0dHAucHlmZXRjaChpbmRpY2F0b3IudXJsKQogICAgZGF0YV9pbl9ieXRlcyA9IGF3YWl0IHJlc3BvbnNlLmJ5dGVzKCkKICAgIGRhdGEgPSBCeXRlc0lPKGRhdGFfaW5fYnl0ZXMpCiAgICBkZiA9IHBkLnJlYWRfY3N2KGRhdGEpCiAgICBzdC5kYXRhZnJhbWUoZGYpCgogICAgc3QuZG93bmxvYWRfYnV0dG9uKAogICAgICAgICJUw6lsw6ljaGFyZ2VyIGxlcyBkb25uw6llcyAoQ1NWKSIsCiAgICAgICAgZGYudG9fY3N2KGluZGV4PUZhbHNlKSwKICAgICAgICBmIntpbmRpY2F0b3IubmFtZX0uY3N2IiwKICAgICAgICAidGV4dC9jc3YiLAogICAgICAgIGtleT0nZG93bmxvYWQtY3N2JwogICAgKQoKEqoECgpmaWxlcy5qc29uEpsECpgEewogICAgImluZGljZV9kZXNfcHJpeCI6IFsKICAgICAgICB7CiAgICAgICAgICAgICJsYWJlbCI6IkluZGljZSBkZXMgUHJpeCDDoCBsYSBQcm9kdWN0aW9uIiwKICAgICAgICAgICAgIm5hbWUiOiJpcHAiLAogICAgICAgICAgICAidXJsIjoiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Jyb2NvbGlkYXRhL2FubnVhaXJlX3N0YXRpc3RpcXVlL21haW4vbGFiL2R3aF9kYXRhL29kcy9pbmRpY2VfZGVzX3ByaXgvaXBwLmNzdiIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICAgImxhYmVsIjoiSW5kaWNlIGRlcyBQcml4IMOgIGxhIENvbnNvbW1hdGlvbiAoTmF0aW9uYWwpIiwKICAgICAgICAgICAgIm5hbWUiOiJpcGNfbmF0aW9uYWwiLAogICAgICAgICAgICAidXJsIjoiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Jyb2NvbGlkYXRhL2FubnVhaXJlX3N0YXRpc3RpcXVlL21haW4vbGFiL2R3aF9kYXRhL29kcy9pbmRpY2VfZGVzX3ByaXgvaXBjX25hdGlvbmFsLmNzdiIKICAgICAgICB9CiAgICBdCn0S5wYKCmNhdGFsb2cucHkS2AYK1QZpbXBvcnQganNvbgoKZGVmIGdldF9maWxlc19kaWN0KCk6CiAgICB3aXRoIG9wZW4oJ2ZpbGVzLmpzb24nKSBhcyBmOgogICAgICAgIGRhdGEgPSBqc29uLmxvYWQoZikKICAgIHJldHVybiBkYXRhCgpkZWYgZ2V0X2ZpbGVzX2Zvcl9jYXRlZ29yeShmaWxlc19kYywgY2F0ZWdvcnkpOgogICAgcmV0dXJuIGZpbGVzX2RjW2NhdGVnb3J5XQoKZGVmIG1hcF9sYWJlbF90b191cmwoY2F0ZWdvcnlfbHMpOgogICAgcmV0dXJuIHsKICAgICAgICBkY1sibGFiZWwiXTpkY1sidXJsIl0gZm9yIGRjIGluIGNhdGVnb3J5X2xzCiAgICB9CgpkZWYgZ2V0X2luZGljYXRvcl9kY19ieV9sYWJlbChjYXRlZ29yeV9scywgaW5kaWNhdG9yX2xhYmVsKToKICAgIHJldHVybiBsaXN0KGZpbHRlcihsYW1iZGEgaTogaVsibGFiZWwiXT09aW5kaWNhdG9yX2xhYmVsLCBjYXRlZ29yeV9scykpWzBdCgpkZWYgZ2V0X2NhdGVnb3JpZXMoZmlsZXNfZGMpOgogICAgcmV0dXJuIGxpc3QoZmlsZXNfZGMua2V5cygpKQoKZGVmIGdldF9sYWJlbHNfZnJvbV9jYXRlZ29yeShjYXRlZ29yeV9scyk6CiAgICByZXR1cm4gW2RjWyJsYWJlbCJdIGZvciBkYyBpbiBjYXRlZ29yeV9sc10KCgpkZWYgcHJvY2Vzc19sYWJlbHMocmF3KToKICAgIHJldHVybiByYXcucmVwbGFjZSgnXycsICcgJykuY2FwaXRhbGl6ZSgpCiAgICAKCmNsYXNzIEluZGljYXRvcjoKCiAgICBkZWYgX19pbml0X18oc2VsZiwgaW5kaWNhdG9yX2RjKToKICAgICAgICBzZWxmLmxhYmVsID0gaW5kaWNhdG9yX2RjWyJsYWJlbCJdCiAgICAgICAgc2VsZi5uYW1lID0gaW5kaWNhdG9yX2RjWyJuYW1lIl0KICAgICAgICBzZWxmLnVybCA9IGluZGljYXRvcl9kY1sidXJsIl0K)

This project is based on our [Data Platform Lab](https://github.com/brocolidata/dataplatform_lab)

## Quickstart

### Local

*Make sure you meet all [Prerequisites for local development](#prerequisites-for-local-development)* 
1. Clone it and open in Visual Studio Code
2. When this popup appears, click on **Reopen in Container** 
   
   <img src="https://code.visualstudio.com/assets/docs/devcontainers/create-dev-container/dev-container-reopen-prompt.png" height=80, width=300 style="display: block; left-margin: 50" />

   *If the popup does not appear, look for this button on the bottom left corner (green button on the image) and select **Reopen in Container***

   <img src="https://code.visualstudio.com/assets/docs/devcontainers/containers/remote-dev-status-bar.png" height=60, width=150 style="display: block; left-margin: 50" />


### GitHub Codespace
Click on this badge [![Open in Codespace](https://img.shields.io/static/v1?label=Codespace&message=Open&color=blue&logo=github)](https://github.com/codespaces/new?template_repository=brocolidata/dataplatform_lab) and wait while Docker is pulling the image, building the dev container and installing VSCode extensions. 


## Prerequisites for local development
- Docker (started) and Docker Compose (just install [Docker Desktop](https://www.docker.com/products/docker-desktop/) if you are on laptop).
- [Visual Studio Code](https://code.visualstudio.com/) + the [Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers) extension.
